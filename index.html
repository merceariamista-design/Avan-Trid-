<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Jogo do Capital â€“ Banco e TÃ­tulos</title>

<style>
body {
  font-family: Arial, sans-serif;
  background: #0f172a;
  color: #f8fafc;
  margin: 0;
}

header {
  background: #020617;
  padding: 15px;
  text-align: center;
}

section {
  padding: 20px;
  max-width: 1200px;
  margin: auto;
}

.card {
  background: #020617;
  padding: 15px;
  border-radius: 10px;
  margin-bottom: 15px;
  box-shadow: 0 0 10px rgba(0,0,0,.4);
}

.stats {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(220px,1fr));
  gap: 15px;
}

button {
  background: #22c55e;
  color: #022c22;
  border: none;
  padding: 10px 15px;
  border-radius: 6px;
  cursor: pointer;
  font-weight: bold;
}

button:hover {
  background: #16a34a;
}

input {
  padding: 8px;
  width: 100%;
  margin-bottom: 10px;
  border-radius: 5px;
  border: none;
}

.log {
  max-height: 160px;
  overflow-y: auto;
  font-size: 14px;
}
</style>
</head>

<body>

<header>
  <h1>ğŸ¦ğŸ“œ Jogo do Capital</h1>
  <p>Banco prÃ³prio e emissÃ£o de tÃ­tulos</p>
</header>

<section>

<div class="stats">
  <div class="card">
    <h3>ğŸ’° Caixa</h3>
    <p>R$ <span id="dinheiro">1000</span></p>
  </div>

  <div class="card">
    <h3>ğŸ¦ Banco</h3>
    <p>Saldo: R$ <span id="saldoBanco">0</span></p>
  </div>

  <div class="card">
    <h3>ğŸ“œ DÃ­vida (TÃ­tulos)</h3>
    <p>R$ <span id="divida">0</span></p>
    <p>Juros: 3% / ciclo</p>
  </div>

  <div class="card">
    <h3>ğŸ“ˆ Renda</h3>
    <p>R$ <span id="renda">0</span></p>
  </div>
</div>

<!-- BANCO -->
<div class="card">
  <h3>ğŸ¦ Banco</h3>
  <input type="number" id="valorBanco" placeholder="Valor">
  <button onclick="depositar()">Depositar</button>
  <button onclick="sacar()">Sacar</button>
</div>

<!-- TITULOS -->
<div class="card">
  <h3>ğŸ“œ EmissÃ£o de TÃ­tulos</h3>
  <input type="number" id="valorTitulo" placeholder="Valor do tÃ­tulo">
  <button onclick="emitirTitulo()">Emitir TÃ­tulo</button>
  <button onclick="pagarTitulo()">Pagar DÃ­vida</button>
  <p style="font-size:13px;">TÃ­tulos aumentam o caixa, mas geram juros.</p>
</div>

<!-- EMPRESAS -->
<div class="card">
  <h3>ğŸª Comprar Empresa</h3>
  <p>Custo: R$ 500 | Renda: +R$ 50</p>
  <button onclick="comprarEmpresa()">Comprar Empresa</button>
</div>

<!-- IMOVEIS -->
<div class="card">
  <h3>ğŸ  Comprar ImÃ³vel</h3>
  <p>Custo: R$ 1000 | Renda: +R$ 120</p>
  <button onclick="comprarImovel()">Comprar ImÃ³vel</button>
</div>

<!-- LOG -->
<div class="card">
  <h3>ğŸ§¾ HistÃ³rico</h3>
  <div class="log" id="log"></div>
</div>

</section>

<script>
let dinheiro = 1000;
let saldoBanco = 0;
let renda = 0;
let divida = 0;

// carregar save
if (localStorage.getItem("save2")) {
  let s = JSON.parse(localStorage.getItem("save2"));
  dinheiro = s.dinheiro;
  saldoBanco = s.saldoBanco;
  renda = s.renda;
  divida = s.divida;
}

function salvar() {
  localStorage.setItem("save2", JSON.stringify({ dinheiro, saldoBanco, renda, divida }));
}

function atualizar() {
  document.getElementById("dinheiro").innerText = dinheiro.toFixed(2);
  document.getElementById("saldoBanco").innerText = saldoBanco.toFixed(2);
  document.getElementById("renda").innerText = renda.toFixed(2);
  document.getElementById("divida").innerText = divida.toFixed(2);
  salvar();
}

function log(msg) {
  let l = document.getElementById("log");
  l.innerHTML = msg + "<br>" + l.innerHTML;
}

function depositar() {
  let v = Number(valorBanco.value);
  if (v > 0 && v <= dinheiro) {
    dinheiro -= v;
    saldoBanco += v;
    log("ğŸ’³ DepÃ³sito R$ " + v);
    atualizar();
  }
}

function sacar() {
  let v = Number(valorBanco.value);
  if (v > 0 && v <= saldoBanco) {
    saldoBanco -= v;
    dinheiro += v;
    log("ğŸ§ Saque R$ " + v);
    atualizar();
  }
}

function emitirTitulo() {
  let v = Number(valorTitulo.value);
  if (v > 0) {
    dinheiro += v;
    divida += v;
    log("ğŸ“œ TÃ­tulo emitido: R$ " + v);
    atualizar();
  }
}

function pagarTitulo() {
  let v = Number(valorTitulo.value);
  if (v > 0 && v <= dinheiro && v <= divida) {
    dinheiro -= v;
    divida -= v;
    log("ğŸ“‰ DÃ­vida paga: R$ " + v);
    atualizar();
  }
}

function comprarEmpresa() {
  if (dinheiro >= 500) {
    dinheiro -= 500;
    renda += 50;
    log("ğŸª Empresa comprada");
    atualizar();
  }
}

function comprarImovel() {
  if (dinheiro >= 1000) {
    dinheiro -= 1000;
    renda += 120;
    log("ğŸ  ImÃ³vel comprado");
    atualizar();
  }
}

// JUROS DO BANCO
setInterval(() => {
  if (saldoBanco > 0) {
    let j = saldoBanco * 0.02;
    saldoBanco += j;
    log("ğŸ¦ Juros banco: R$ " + j.toFixed(2));
    atualizar();
  }
}, 5000);

// JUROS DA DÃVIDA (TÃTULOS)
setInterval(() => {
  if (divida > 0) {
    let j = divida * 0.03;
    dinheiro -= j;
    log("ğŸ“œ Juros da dÃ­vida pagos: R$ " + j.toFixed(2));

    if (dinheiro < 0) {
      alert("ğŸ’¥ FALÃŠNCIA! DÃ­vida impagÃ¡vel.");
      localStorage.clear();
      location.reload();
    }
    atualizar();
  }
}, 6000);

// RENDA
setInterval(() => {
  dinheiro += renda;
  atualizar();
}, 3000);

atualizar();
</script>

</body>
</html>
